{% extends "headeryfooter.html" %}

{% block content %}

<h1 class="text-center my-4">Resumen del Carrito</h1>

<div class="container">
  <table class="table table-striped">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Cant.</th>
        <th scope="col">Marca</th>
        <th scope="col">Precio</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for key, value in carro.carro.items %}
      <tr>
        <th scope="row">{{ key }}</th>
        <td>{{ value.titulo }}</td>
        <td>{{ value.cantidad }}</td>
        <td class="text-center">
          <a class="btn btn-outline-success btn-sm" href="{% url 'carro_aumentar' key %}">
            <i class="bi bi-bag-plus-fill"></i>
          </a>
        </td>
        <td class="text-center">
          <a class="btn btn-outline-warning btn-sm" href="{% url 'carro_disminuir' key %}">
            <i class="bi bi-calendar-minus-fill"></i>
          </a>
        </td>
        <td>{{ value.marca }}</td>
        <td>{{ value.precio }}</td>
        <td>
          <a href="{% url 'carro_borrar' key %}" class="btn btn-danger btn-sm">
            <i class="bi bi-trash"></i>
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="d-flex justify-content-between">
    <a href="{% url 'carro_limpiar' %}" class="btn btn-danger">Limpiar Carrito</a>
    {% if user.is_authenticated %}
      <a href="{% url 'venta_exitosa' %}" class="btn btn-success">Comprar</a>
    {% else %}
      <button class="btn btn-success" disabled>Comprar</button>
    {% endif %}
  </div>
</div>

<!-- Enlace al Bootstrap Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.1/font/bootstrap-icons.min.css">

{% endblock %}
